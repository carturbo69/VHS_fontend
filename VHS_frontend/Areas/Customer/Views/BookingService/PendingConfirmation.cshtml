@model List<VHS_frontend.Areas.Customer.Models.BookingServiceDTOs.HistoryBookingDetailDTO>
@using System.Globalization
@{
    ViewData["Title"] = "Ch·ªù x√°c nh·∫≠n";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var vi = CultureInfo.GetCultureInfo("vi-VN");
    var bookingIds = ViewBag.BookingIds as List<Guid> ?? new List<Guid>();
    var serviceNames = ViewBag.ServiceNames as Dictionary<Guid, string> ?? new Dictionary<Guid, string>();
    var total = ViewBag.Total as string ?? "0";
}

@section Styles {
    <link rel="stylesheet" href="~/css/pending-confirmation.css" asp-append-version="true" />
}

<div class="pending-confirmation-wrapper">
    <div class="pending-card">
        <div class="pending-icon">‚è≥</div>
        <h1 class="pending-title">ƒê∆°n h√†ng ƒëang ch·ªù x√°c nh·∫≠n</h1>
        <p class="pending-message">
            ƒê∆°n h√†ng c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng v√† ƒëang ch·ªù nh√† cung c·∫•p x√°c nh·∫≠n.
            <br>B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c email th√¥ng b√°o khi ƒë∆°n h√†ng ƒë∆∞·ª£c x√°c nh·∫≠n.
        </p>

        @if (Model != null && Model.Any())
        {
            <div class="booking-list">
                <h3>Danh s√°ch d·ªãch v·ª• ƒë√£ ƒë·∫∑t:</h3>
                @for (int i = 0; i < Model.Count; i++)
                {
                    var booking = Model[i];
                    var serviceName = serviceNames.TryGetValue(booking.BookingId, out var name) ? name : (booking.Service?.Title ?? $"D·ªãch v·ª• s·ªë {i + 1}");
                    <div class="booking-item">
                        <div class="booking-info">
                            <div class="booking-service-name">@serviceName</div>
                            <div class="booking-code">M√£ ƒë∆°n: @(string.IsNullOrWhiteSpace(booking.BookingCode) ? "‚Äî" : booking.BookingCode)</div>
                        </div>
                        <span class="booking-status">Ch·ªù x√°c nh·∫≠n</span>
                    </div>
                }
            </div>
        }

        <div class="info-box">
            <p>
                <strong>‚ÑπÔ∏è L∆∞u √Ω:</strong> Sau khi nh√† cung c·∫•p x√°c nh·∫≠n ƒë∆°n h√†ng, b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c email th√¥ng b√°o v√† c√≥ th·ªÉ ti·∫øn h√†nh thanh to√°n.
            </p>
        </div>

        <div class="btn-group">
            <a asp-area="Customer" asp-controller="BookingService" asp-action="ListHistoryBooking" class="btn-primary-pending">
                <span>üìã</span>
                <span>Xem l·ªãch s·ª≠ ƒë·∫∑t l·ªãch</span>
            </a>
            <a asp-area="" asp-controller="Home" asp-action="Index" class="btn-secondary-pending">
                <span>üè†</span>
                <span>V·ªÅ trang ch·ªß</span>
            </a>
        </div>
    </div>
</div>

