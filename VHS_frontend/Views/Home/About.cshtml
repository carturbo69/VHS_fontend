@{
    ViewData["Title"] = "Thông tin";
}

@section Styles {
    <link rel="stylesheet" href="~/css/about.css" asp-append-version="true" />
}

<main id="main" role="main">

    <!-- ===== HERO: Tuyên ngôn rõ ràng ===== -->
    <section id="mission" class="dossier-hero" aria-labelledby="ds-hero-title">
        <div class="dossier-hero__bg" aria-hidden="true">
            <div class="ds-blob ds-blob--a"></div>
            <div class="ds-blob ds-blob--b"></div>
            <div class="ds-grid"></div>
        </div>

        <div class="container-xl dossier-hero__inner">
            <header class="dossier-hero__lead">
                <p class="ds-badge">✨ Minh bạch • Thuận tiện • An toàn</p>
                <h1 id="ds-hero-title" class="ds-title">
                    Kết nối <span class="ds-grad">nhu cầu dịch vụ gia đình</span> với đối tác cung ứng
                </h1>
                <p class="ds-sub">
                    Nền tảng giúp bạn <strong>đặt lịch</strong> và <strong>giám sát</strong> dịch vụ gia đình (vệ sinh, nội trợ, sự kiện nhỏ tại nhà…)
                    với quy trình <strong>minh bạch</strong> về giá, <strong>tiến độ</strong> và <strong>kết quả</strong>; tích hợp <strong>đánh giá</strong> và <strong>đảm bảo chất lượng</strong>
                    để mọi trải nghiệm luôn <strong>thuận tiện</strong> và <strong>an toàn</strong>.
                </p>

                <div class="ds-actions">
                    <a asp-controller="Services" asp-action="Index" class="btn btn-primary btn-lg btn-shine">🚀 Khám phá dịch vụ</a>
                    <a asp-controller="Services" asp-action="Index" class="btn btn-ghost btn-lg">📅 Đặt lịch nhanh chóng</a>
                </div>

                <ul class="ds-kpis" aria-label="Số liệu nhanh">
                    <div class="kpi" role="listitem">
                    <div class="kpi-num">@((ViewBag.TotalProviders ?? 0).ToString("N0"))+</div>
                    <div class="kpi-label">Đối tác dịch vụ</div>
                </div>
                <div class="kpi" role="listitem">
                    <div class="kpi-num">@((ViewBag.AverageRating ?? 0.0).ToString("F1"))/5 ⭐</div>
                    <div class="kpi-label">Đánh giá trung bình</div>
                </div>
                    <li class="k"><span class="n">60s</span><span class="l">Đặt lịch siêu nhanh</span></li>
                </ul>
            </header>

            <!-- TOC (sticky ở desktop) -->
            <aside class="dossier-aside" aria-label="Mục lục">
                <nav class="ds-toc">
                    <h2 class="toc-title">Nội dung</h2>
                    <a href="#problem-solution" class="toc-link">Vấn đề & Giải pháp</a>
                    <a href="#how-it-works" class="toc-link">Cách nền tảng vận hành</a>
                    <a href="#transparency-quality" class="toc-link">Minh bạch & Chất lượng</a>
                    <a href="#partners" class="toc-link">Đối tác cung ứng</a>
                    <a href="#security" class="toc-link">An toàn dữ liệu</a>
                    <a href="#payments-apps" class="toc-link">Thanh toán & Ứng dụng</a>
                    <a href="#coverage-time" class="toc-link">Khu vực & Thời gian</a>
                    <a href="#faq" class="toc-link">FAQ</a>
                </nav>
            </aside>
        </div>
    </section>

    <!-- ===== PROBLEM → SOLUTION ===== -->
    <section id="problem-solution" class="dossier-ps" aria-labelledby="ds-ps-title">
        <div class="container-xl">
            <h2 id="ds-ps-title" class="ds-h-xl">Vấn đề & Giải pháp</h2>

            <div class="ds-ps-grid">
                <article class="ds-card fade-in-up">
                    <h3 class="ds-h">❌ Thực trạng khi tự thuê dịch vụ</h3>
                    <p>
                        Giá cả khó đoán; không rõ phạm vi công việc; thiếu thông tin về thợ/đơn vị; tiến độ không liền mạch; kết quả khó đối soát;
                        phát sinh chi phí ngoài dự kiến và khâu bảo hành mơ hồ. Người dùng mất thời gian, đối tác cũng tốn công trao đổi lặp lại.
                    </p>
                    <p>
                        Với các dịch vụ tại nhà như <strong>vệ sinh</strong>, <strong>nội trợ</strong>, <strong>sự kiện nhỏ</strong>, vấn đề minh bạch và chuẩn hoá quy trình
                        là điều quyết định trải nghiệm.
                    </p>
                </article>

                <article class="ds-card fade-in-up delay-1">
                    <h3 class="ds-h">✅ Cách chúng tôi giải quyết</h3>
                    <ul class="ds-bullets">
                        <li><strong>Đặt lịch & so khớp đối tác</strong> theo khu vực, kỹ năng, lịch rảnh — tối ưu chi phí/ thời gian.</li>
                        <li><strong>Minh bạch 360°:</strong> bảng giá – phạm vi hạng mục – ảnh trước/sau – hoá đơn điện tử.</li>
                        <li><strong>Giám sát tiến độ</strong> với mốc công việc, check-in/checkout, và thông báo real-time.</li>
                        <li><strong>Đánh giá & đảm bảo chất lượng:</strong> chấm sao, phản hồi hai chiều, bảo hành trong 72 giờ.</li>
                        <li><strong>Thanh toán an toàn qua VNPAY</strong> – xác nhận tức thì.</li>
                    </ul>
                </article>
            </div>
        </div>
    </section>

    <!-- ===== HOW IT WORKS ===== -->
    <section id="how-it-works" class="dossier-flow" aria-labelledby="ds-flow-title">
        <div class="container-xl">
            <h2 id="ds-flow-title" class="ds-h-xl center">Nền tảng vận hành như thế nào?</h2>

            <ol class="ds-steps">
                <li><span class="dot"></span><div class="b"><h4>Chọn dịch vụ & nhập nhu cầu</h4><p>Gồm nhiều loại dịch vụ khác nhau, có nhiều quy mô, thời lượng và các yêu cầu đặc thù khác nhau.</p></div></li>
                <li><span class="dot"></span><div class="b"><h4>So khớp đối tác</h4><p>Tự động theo khu vực, kỹ năng, lịch rảnh; hiển thị mức giá & thời lượng ước tính.</p></div></li>
                <li><span class="dot"></span><div class="b"><h4>Đặt lịch & thanh toán VNPAY</h4><p>Xác nhận tức thì, xuất hoá đơn điện tử; lịch được đồng bộ cho hai phía.</p></div></li>
                <li><span class="dot"></span><div class="b"><h4>Thi công & giám sát</h4><p>Check-in, mốc công việc, hình ảnh báo cáo; thông báo real-time.</p></div></li>
                <li><span class="dot"></span><div class="b"><h4>Nghiệm thu</h4><p>Ảnh trước/sau – biên bản công việc; xử lý điểm chưa đạt ngay tại chỗ.</p></div></li>
                <li><span class="dot"></span><div class="b"><h4>Đánh giá & phản hồi</h4><p>Chấm sao, bình luận; phản hồi được đội chất lượng theo dõi.</p></div></li>
                <li><span class="dot"></span><div class="b"><h4>Bảo hành & hậu mãi</h4><p>Trong 72 giờ; ưu đãi cho lịch định kỳ; lịch nhắc bảo trì.</p></div></li>
            </ol>
        </div>
    </section>

    <!-- ===== TRANSPARENCY & QUALITY ===== -->
    <section id="transparency-quality" class="dossier-tq" aria-labelledby="ds-tq-title">
        <div class="container-xl">
            <h2 id="ds-tq-title" class="ds-h-xl">Minh bạch & Bảo đảm chất lượng</h2>

            <div class="ds-tq-grid">
                <article class="ds-pane fade-in-up">
                    <h3 class="ds-h">💰 Minh bạch giá & phạm vi</h3>
                    <p>
                        Giá hiển thị kèm phạm vi hạng mục và điều kiện áp dụng. Mọi phát sinh (nếu có) phải được xác nhận trên ứng dụng trước khi thi công tiếp tục.
                    </p>
                    <dl class="ds-dl">
                        <dt>Nguyên tắc giá</dt>
                        <dd>Công khai; gắn với phạm vi rõ ràng; dùng cùng một mẫu quy đổi.</dd>
                        <dt>Phạm vi</dt>
                        <dd>Hạng mục tiêu chuẩn + tuỳ chọn thêm; nêu trước giới hạn & ngoại lệ.</dd>
                    </dl>
                </article>

                <article class="ds-pane fade-in-up delay-1">
                    <h3 class="ds-h">📊 Theo dõi tiến độ</h3>
                    <p>Tiến độ được chia thành mốc; bạn biết nhóm thợ đang ở bước nào, còn lại bao nhiêu phần trăm.</p>
                    <ul class="ds-bullets">
                        <li>Mốc công việc chuẩn hoá theo từng dịch vụ.</li>
                        <li>Check-in/checkout kèm vị trí thời gian.</li>
                        <li>Hình ảnh báo cáo tại từng mốc.</li>
                    </ul>
                </article>

                <article class="ds-pane fade-in-up delay-2">
                    <h3 class="ds-h">📸 Ảnh trước–sau & nghiệm thu</h3>
                    <p>Ảnh trước/sau là bằng chứng chất lượng; nghiệm thu đối chiếu đúng hạng mục đã thống nhất.</p>
                </article>

                <article class="ds-pane fade-in-up delay-3">
                    <h3 class="ds-h">⭐ Đánh giá & bảo hành 72h</h3>
                    <p>Chấm sao và phản hồi hai chiều; yêu cầu bảo hành được ưu tiên xử lý, ghi nhận để cải tiến quy trình.</p>
                </article>
            </div>
        </div>
    </section>

    <!-- ===== PARTNERS ===== -->
    <section id="partners" class="dossier-partners" aria-labelledby="ds-partners-title">
        <div class="container-xl">
            <h2 id="ds-partners-title" class="ds-h-xl">Đối tác cung ứng: tiêu chuẩn & vận hành</h2>

            <div class="ds-partners-grid">
                <article class="ds-card fade-in-up">
                    <h3 class="ds-h">✅ Xác thực & Onboarding</h3>
                    <p>KYC/KYB, kiểm tra chứng chỉ/kỹ năng, quy định an toàn lao động; hướng dẫn quy trình báo cáo và giao tiếp chuẩn.</p>
                </article>
                <article class="ds-card fade-in-up delay-1">
                    <h3 class="ds-h">🎓 Đào tạo & SLA</h3>
                    <p>Đào tạo theo dịch vụ; SLA về đúng giờ, tỉ lệ hoàn thành, chỉ số hài lòng. Sai lệch được ghi nhận và cải thiện.</p>
                </article>
                <article class="ds-card fade-in-up delay-2">
                    <h3 class="ds-h">💳 Thanh toán & đối soát</h3>
                    <p>Đối soát minh bạch; lịch chi trả định kỳ sau nghiệm thu; hoá đơn điện tử.</p>
                </article>
                <article class="ds-card fade-in-up delay-3">
                    <h3 class="ds-h">🛡️ An toàn & BHLĐ</h3>
                    <p>Trang bị bảo hộ bắt buộc; quy trình xử lý sự cố; bảo hiểm trách nhiệm (nếu áp dụng tuỳ gói).</p>
                </article>
            </div>
        </div>
    </section>

    <!-- ===== SECURITY ===== -->
    <section id="security" class="dossier-sec" aria-labelledby="ds-sec-title">
        <div class="container-xl narrow">
            <h2 id="ds-sec-title" class="ds-h-xl">An toàn dữ liệu & bảo mật</h2>
            <div class="ds-sec-grid">
                <article class="ds-pane fade-in-up">
                    <h3 class="ds-h">🔒 Nguyên tắc</h3>
                    <ul class="ds-bullets">
                        <li><strong>Mã hoá khi truyền</strong> (HTTPS/TLS) và <strong>khi lưu</strong> (at rest).</li>
                        <li><strong>Phân quyền tối thiểu:</strong> truy cập theo vai trò, kiểm soát nhật ký.</li>
                        <li><strong>Giảm dữ liệu nhạy cảm</strong> – chỉ lưu những gì cần thiết để cung cấp dịch vụ.</li>
                    </ul>
                </article>
                <article class="ds-pane fade-in-up delay-1">
                    <h3 class="ds-h">⚙️ Quy trình</h3>
                    <p>Quy trình quản lý truy cập định kỳ; sao lưu dữ liệu; kế hoạch ứng phó sự cố và kênh báo cáo.</p>
                </article>
            </div>
        </div>
    </section>

    <!-- ===== PAYMENTS & APPS ===== -->
    <section id="payments-apps" class="dossier-pay" aria-labelledby="ds-pay-title">
        <div class="container-xl">
            <h2 id="ds-pay-title" class="ds-h-xl">Thanh toán & Ứng dụng</h2>
            <div class="ds-pay-row">
                <div class="ds-pay-col fade-in-up">
                    <h3 class="ds-h">💳 Thanh toán</h3>
                    <p>Hỗ trợ <strong>VNPAY</strong> – trải nghiệm nhanh, an toàn; xác nhận tức thì; hoá đơn điện tử.</p>
                    <img src="~/images/VNPAY.png" alt="VNPAY" class="brand-ic" />
                </div>
                <div class="ds-pay-col fade-in-up delay-1">
                    <h3 class="ds-h">📱 Ứng dụng</h3>
                    <p>Đặt lịch, theo dõi tiến độ, đánh giá & bảo hành ngay trên ứng dụng và web.</p>
                    <div class="store-row">
                        <!-- <img src="~/images/AppStore.png" alt="App Store" /> -->
                        <img src="~/images/GooglePlay.png" alt="Google Play" />
                    </div>
                </div>
                <div class="ds-pay-col fade-in-up delay-2">
                    <h3 class="ds-h">🔐 Bảo mật</h3>
                    <p>Mã hoá; phân quyền theo vai trò; giám sát nhật ký; kiểm thử định kỳ.</p>
                    <div class="sec-row">
                        <img src="~/images/SSL.jpg" alt="SSL Secured" />
                        <img src="~/images/ISO.png" alt="ISO 27001" />
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== COVERAGE & TIME ===== -->
    <section id="coverage-time" class="dossier-ops" aria-labelledby="ds-ops-title">
        <div class="container-xl">
            <h2 id="ds-ops-title" class="ds-h-xl">Khu vực phục vụ & thời gian</h2>
            <div class="ds-ops-grid">
                <article class="ds-card fade-in-up">
                    <h3 class="ds-h">📍 Khu vực</h3>
                    <p>Ưu tiên thành phố (ví dụ): Cần Thơ, Hồ Chí Minh,… Mở rộng theo nhu cầu.</p>
                </article>
                <article class="ds-card fade-in-up delay-1">
                    <h3 class="ds-h">🕐 Thời gian hỗ trợ</h3>
                    <p>07:00 – 17:00 hàng ngày (giai đoạn đầu). Có thể linh hoạt theo lịch đặt.</p>
                </article>
                <article class="ds-card fade-in-up delay-2">
                    <h3 class="ds-h">📞 Kênh liên hệ</h3>
                    <p>
                        Điện thoại: <a href="tel:+84337868575">+84 337 868 575</a><br>
                        Email: <a href="mailto:vhsplatform700@gmail.com">vhsplatform700@gmail.com</a>
                    </p>
                </article>
            </div>
        </div>
    </section>

    <!-- ===== FAQ ===== -->
    <section id="faq" class="dossier-faq" aria-labelledby="ds-faq-title">
        <div class="container-xl narrow">
            <h2 id="ds-faq-title" class="ds-h-xl">Câu hỏi thường gặp</h2>
            <div class="ds-faq-grid">
                <details class="q fade-in-up"><summary>❓ Chi phí có phát sinh không?</summary><p>Không nếu trong phạm vi đã thống nhất. Nếu phát sinh, hệ thống yêu cầu xác nhận lại ngay trên ứng dụng trước khi tiếp tục.</p></details>
                <details class="q fade-in-up delay-1"><summary>⏱️ Thời gian hoàn thành một ca?</summary><p>Tùy diện tích & hạng mục. Gói cơ bản thường 2–4 giờ với 2–3 nhân sự.</p></details>
                <details class="q fade-in-up delay-2"><summary>🛡️ Chính sách bảo hành?</summary><p>Trong 72 giờ sau nghiệm thu. Chúng tôi tiếp nhận phản hồi, xử lý lại miễn phí nếu có điểm chưa đạt.</p></details>
                <details class="q fade-in-up delay-3"><summary>👷 An toàn & bảo hộ lao động?</summary><p>Đối tác phải trang bị BHLĐ, tuân thủ quy trình an toàn và có đào tạo định kỳ.</p></details>
            </div>
        </div>
    </section>
</main>

@section Scripts {
    <script>
        // Smooth scroll for TOC links
        document.querySelectorAll('.toc-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href');
                const target = document.querySelector(targetId);
                if (target) {
                    const offset = 80; // Account for fixed header
                    const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - offset;
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                    
                    // Update active state
                    document.querySelectorAll('.toc-link').forEach(l => l.style.fontWeight = 'normal');
                    link.style.fontWeight = '700';
                }
            });
        });

        // Highlight active TOC item on scroll
        const sections = document.querySelectorAll('section[id]');
        const tocLinks = document.querySelectorAll('.toc-link');
        
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (window.pageYOffset >= (sectionTop - 100)) {
                    current = section.getAttribute('id');
                }
            });
            
            tocLinks.forEach(link => {
                link.style.fontWeight = 'normal';
                if (link.getAttribute('href') === '#' + current) {
                    link.style.fontWeight = '700';
                    link.style.color = 'var(--primary)';
                } else {
                    link.style.color = 'var(--muted-foreground)';
                }
            });
        });

        // Add hover effect to KPI cards
        document.querySelectorAll('.k').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-6px) scale(1.02)';
            });
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(-4px) scale(1)';
            });
        });

        // Animate numbers on scroll into view
        const animateNumbers = () => {
            const kpis = document.querySelectorAll('.k .n');
            kpis.forEach(kpi => {
                const rect = kpi.getBoundingClientRect();
                if (rect.top < window.innerHeight && !kpi.dataset.animated) {
                    kpi.dataset.animated = 'true';
                    const text = kpi.textContent;
                    const hasPlus = text.includes('+');
                    const number = parseInt(text.replace(/[^0-9.]/g, ''));
                    
                    if (isNaN(number)) return;
                    
                    const duration = 1500;
                    const steps = 60;
                    const increment = number / steps;
                    let current = 0;
                    
                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= number) {
                            current = number;
                            clearInterval(timer);
                        }
                        if (text.includes('/')) {
                            kpi.textContent = current.toFixed(1) + '/5';
                        } else if (text.includes('s')) {
                            kpi.textContent = Math.floor(current) + 's';
                        } else {
                            kpi.textContent = Math.floor(current) + (hasPlus ? '+' : '');
                        }
                    }, duration / steps);
                }
            });
        };

        window.addEventListener('scroll', animateNumbers);
        animateNumbers(); // Initial check
    </script>
}

