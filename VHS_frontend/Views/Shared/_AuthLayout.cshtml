@*
  Layout tối giản cho trang Auth (Login/Register)
  - Không Header, không Footer
  - Vẫn dùng font + biến màu + button từ site.css
  - Load thêm auth.css cho UI form
*@
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>@ViewData["Title"] - Viet Home Service</title>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />

    <!-- CSS chung + CSS auth -->
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/auth.css" asp-append-version="true" />
    @RenderSection("Styles", required: false)
</head>
<body class="min-h-screen bg-background text-foreground font-sans antialiased">
    <!-- Nút quay lại trang chủ -->
    <a asp-controller="Home" asp-action="Index" id="backHomeBtn"
       style="position: fixed; top: 24px; left: 24px; z-index: 100; 
              width: 48px; height: 48px; border-radius: 14px;
              background: var(--primary);
              color: white; display: flex; align-items: center; justify-content: center;
              box-shadow: 0 4px 16px color-mix(in oklab, var(--primary) 35%, transparent);
              transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
              text-decoration: none; border: 1px solid color-mix(in oklab, white 20%, transparent);
              backdrop-filter: blur(10px);">
        <svg style="width: 24px; height: 24px; fill: white;" viewBox="0 0 24 24">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
    </a>

    <main id="main">
        @RenderBody()
    </main>
    
    <style>
        body {
            margin: 0 !important;
            padding: 0 !important;
            overflow-x: hidden;
        }
        
        #backHomeBtn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 24px color-mix(in oklab, var(--primary) 45%, transparent);
            background: color-mix(in oklab, var(--primary) 90%, white);
        }
        #backHomeBtn:active {
            transform: translateY(-1px) scale(1.02);
        }
        
        .dark #backHomeBtn {
            background: var(--primary);
            box-shadow: 0 4px 16px color-mix(in oklab, var(--primary) 40%, transparent);
        }
        
        .dark #backHomeBtn:hover {
            background: color-mix(in oklab, var(--primary) 85%, white);
            box-shadow: 0 8px 24px color-mix(in oklab, var(--primary) 50%, transparent);
        }
    </style>

    <script>
        // Vẫn giữ theme để đồng bộ màu
        (function () {
          const KEY = "vhs-theme";
          const root = document.documentElement;
          const saved = localStorage.getItem(KEY);
          const apply = t => t==="dark" ? root.classList.add("dark") : root.classList.remove("dark");
          if (saved==="light"||saved==="dark") apply(saved);
          else apply(matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
          window.__toggleTheme = function(){
            const next = root.classList.contains("dark") ? "light" : "dark";
            localStorage.setItem(KEY, next); apply(next);
          };
        })();
    </script>

    @RenderSection("Scripts", required: false)
</body>
</html>
